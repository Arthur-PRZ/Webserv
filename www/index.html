<!DOCTYPE HTML>
<html>
<head>
    <title>WEBSERV</title>
    <meta charset="UTF-8">
</head>
<body>
    <p>This is the Webserv of 
        <a href="https://profile-v3.intra.42.fr/users/artperez" target="_blank">artperez</a> and 
        <a href="https://profile-v3.intra.42.fr/users/ctravers" target="_blank">ctravers</a>
    </p>

    <form action="/cgi/hello.py" method="POST">
        Username: <input type="text" name="username">
        <input type="submit" value="Login">
    </form>
    <br>

    <form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
        <label for="file">Choisissez un fichier :</label>
        <input type="file" name="file" id="file">
        <br><br>
        <input type="submit" value="Envoyer">
    </form>
	<!-- <img src="uploads/blue_wall.png">e -->
    <br>
	<form id="deleteForm">
		<label for="ressource">Select a ressource to delete</label>
		<select id="ressource" name="ressource">
			<option value="test1">test1.txt</option>
			<option value="test2">test2.png</option>
			<option value="test3">test3.png</option>
		</select>
		<button type="button" onclick="deleteRessource()">Delete</button>
	</form>
	<p id="responseMessage"></p>
	<script>
		function deleteRessource() {
			const ressource = document.getElementById('ressource').value;
			fetch("./cgi-bin/deleteRessource.py?resource=" + encodeURIComponent(ressource), {
				method:'DELETE',
			})
			.then(response => response.text())
			.then(data => {
				document.getElementById("responseMessage").innerText = data;
			})
		}
	</script>
</body>
</html>

<!-- fetch ./cgi-bin/delete.py + test1.png methode -> DELETE

	DELETE ./cgi-bin/delete.pyresponse?=test1.png HTTP/1.1
-->